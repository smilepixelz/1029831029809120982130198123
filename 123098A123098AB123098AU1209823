-- UPDATE 1 -- 
-- RELEASED -- 
-- SECURITY LAYER NUMBER 1 --

-- << ASGORE CREATED BY LOLOK#6439 >> --

local ClientModule = require(game.ReplicatedStorage.ClientModules.MainModule);

function createButtonEffect(y)
	task.spawn(function()
		while true do
			ClientModule.CreateTween(y, { 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
				Rotation = 10
			}, true);
			wait(1);
			ClientModule.CreateTween(y, { 1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
				Rotation = -10
			}, true);
			wait(1);		
		end;
	end);
end;

function particleAccel(x)
	task.spawn(function()
		while true do
			ClientModule.CreateTween(x, { 1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
				Acceleration = Vector3.new(0,10,0)
			}, true);
			wait(1.5);
			ClientModule.CreateTween(x, { 1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
				Acceleration = Vector3.new(0,-10,0)
			}, true);
			wait(1.5);		
		end;
	end);
end;

function spearColor(x)
    x.Color = Color3.fromRGB(1,0,0)
	task.spawn(function()
		while true do
			ClientModule.CreateTween(x, { 3.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
				Color = Color3.fromRGB(255, 127, 0)
			}, true);
			wait(1.5);
			ClientModule.CreateTween(x, { 3.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, 0, false, 0 }, {
				Color = Color3.new(1,0,0)
			}, true);
			wait(1.5);		
		end;
	end);
end;

function LoadAs(char, onload, phases)
    game.StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Chat, true)
    game.Players.LocalPlayer.PlayerGui.CharacterSelection.Character.Value = char
    spawn(function()
        wait(0.5)
        local nP = game.Players.LocalPlayer.Character.Head:WaitForChild("HealthBar").Frame.PName:Clone();
        nP.Parent = game.Players.LocalPlayer.Character.Head:WaitForChild("HealthBar").Frame
        nP.Text = " ASGORE";
        nP.TextColor3 = Color3.new(1,0,0)
        nP.TextStrokeTransparency = 1 
        game.Players.LocalPlayer.Character.Head:WaitForChild("HealthBar").Frame.PName:Destroy()
    end)
    check = game.Players.LocalPlayer.CharacterAdded:Connect(function(v)
        check:Disconnect()
        onload()
    end)
    spawn(function()
    	repeat wait() until game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character.Health == 200; -- so many debugs lolol
    	for _,v in pairs(phases) do
    		assert((typeof(v.Callback)=='function' and typeof(v.Health)=='number'), "Arguments are not valid!")
    		spawn(function()
    			repeat wait(); until game.Players.LocalPlayer.Character:WaitForChild("Humanoid").Health < v.Health;
    			v.Callback()
    		end)
    	end
    end)
    local catch = {}
    function catch:andThen(v)
        v()
    end
    return catch
end

LoadAs("Undyne", function()
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves:WaitForChild("Animations")
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.Idle.AnimationId = "rbxassetid://5411065101"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.SecondIdle.AnimationId = "rbxassetid://5411065101"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.Walk.AnimationId = "rbxassetid://5411071023"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.Run.AnimationId = "rbxassetid://5411068397"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.Block.AnimationId = "rbxassetid://5411080645"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.Jump.AnimationId = "rbxassetid://3198665507"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.Animations.Fall.AnimationId = "rbxassetid://3198653548"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.ModuleScript.Animations.BladesCombat.Light1.AnimationId = "rbxassetid://" .. "5411089475"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.ModuleScript.Animations.BladesCombat.Light2.AnimationId = "rbxassetid://" .. "5411101340"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.ModuleScript.Animations.BladesCombat.Light3.AnimationId = "rbxassetid://" .. "5411103778"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.ModuleScript.Animations.BladesCombat.Light4.AnimationId = "rbxassetid://" .. "5411106079"
    game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.ModuleScript.Animations.BladesCombat.Light5.AnimationId = "rbxassetid://" .. "5411107197"
    game.Players.LocalPlayer.Character.ForceField:Destroy();
    local args = {
            [1] = {
            [1] = getrenv()._G.Pass,
            [2] = "Damage",
            [3] = math.huge,
            [4] = game:GetService("Players").LocalPlayer.Character
        }
    }
    
    game:GetService("ReplicatedStorage").Remotes.Events:FireServer(unpack(args))
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Loaded Successfully...";
        Text = "Created by (lolok dev#6439) with special thanks to King Dream";
        Duration = 1;
    })
end, {
    Phase2 = {
        Callback = function() Segment("Segment1") end,
        Health = 50
    }
}):andThen(function()
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Universal Core Loaded Successfully. ( Core Created By Lolok );";
        Text = "Enjoy.";
        Duration = 1;
    })
end)

repeat wait(); until (game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Backpack:FindFirstChild("Main"));


local CameraShaker = require(game.ReplicatedStorage.ClientModules.CameraShaker)
local camera = game.Workspace.CurrentCamera
local camShake = CameraShaker.new(Enum.RenderPriority.Camera.Value, function(shakeCf)
	camera.CFrame = camera.CFrame * shakeCf
end)

camShake:Start()

local Players = game.Players
local Player = Players.LocalPlayer
local Character = Player.Character
local PlayerScripts = Player.PlayerScripts
local Backpack = Player.Backpack
local Segment1 = false
local RageMode = false
local MovesInterface = Player.PlayerGui:WaitForChild("UI").Ui:WaitForChild("MoveDebounceShower").Moves1;
local Modes = {
    ["Combat"] = false,
    ["Trident"] = true
}

local BodyParts = {} do 
    for _,v in pairs(Character:GetChildren()) do 
        if v:IsA("BasePart") then 
            BodyParts[v.Name] = v
        end
    end
end

function AfterImage(color3, material, duration)
    for i,v in pairs(game.Players.LocalPlayer.Character:GetChildren()) do 
        if table.find(BodyParts, v.Name) then
            local part = Instance.new("Part")
            part.Anchored = true 
            part.CanCollide = false 
            part.Massless = true 
            part.CFrame = v.CFrame
            part.Size = v.Size
            part.Color = color3
            part.Material = Enum.Material[material]
            game:GetService("TweenService"):Create(part,TweenInfo.new(duration),{Transparency = 1}):Play()
            if v.Name == "Head" then 
                local mesh = Instance.new("SpecialMesh")
                mesh.MeshType = Enum.MeshType.Head 
                mesh.Scale = Vector3.new(1.25,1.25,1.25)
                mesh.Parent = part
            end
            part.Parent = workspace 
            game.Debris:AddItem(part, duration)
            
        end
    end
end


local BindApi = {Cooldowns = {}} do 
    function BindApi:BindTo(Key, Function, Cooldown)
        local Cooldowns = BindApi.Cooldowns
        local UIS = game:GetService("UserInputService")
        UIS.InputBegan:Connect(function(I,G) 
            if not G and I.KeyCode == Enum.KeyCode[Key] then
                if not Cooldowns[Key] then
                    Cooldowns[Key] = true
                    Function()
                    delay(Cooldown, function()
                        Cooldowns[Key] = false 
                    end)
                end
            end
        end)
    end
end

function GetAllOfType(Class)
    local ret = {};
    for _,v in pairs(game:GetDescendants()) do 
        if v:IsA(Class) then 
            table.insert(ret,v);
        end
    end
    return(ret);
end

function GetLocked()
    return game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value;
end

function Damage(Arguments)
    if RageMode then if Arguments.Type == "Knockback" then Arguments.Damage = 40 elseif Arguments.Type == "Normal" then Arguments.Damage = 10 end end
    if not Arguments.Character then Arguments.Character = game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value end;
    local args = {
        [1] = getrenv()._G.Pass,
        [2] = Arguments.Character,
        [3] = Arguments,
        [4] = "ID=129152"
    }

    game:GetService("ReplicatedStorage").Remotes.Damage:InvokeServer(unpack(args))
end

function Chat(X,Color)
    local A_1 =  {[1] = getrenv()._G.Pass, [2] = "Chatted", [3] = "<<FALLEN>>" .. X, [4] = Color}
    local Event = game:GetService("ReplicatedStorage").Remotes.Events
    Event:FireServer(A_1)
end

function HighJump() 
    for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
        v:Fire({"Model", "HighJump", game.Players.LocalPlayer.Character["HumanoidRootPart"].CFrame*CFrame.new(0,-2,0)})
    end
end

local debounce = {}
function SetCooldown(Move, Time)
    Move.Time.Value=Time ;
    local moveApi = {} do 
        function moveApi:Activate()
            if not debounce[Move] then
                debounce[Move] = true
                Move.Activated.Value=true ;
                delay(Time, function()
                    Move.Activated.Value=false ; 
                    debounce[Move] = false
                end)
            end
        end
    end;
    return(moveApi);
end

function PlaySound(Id)
    Id = "rbxassetid://" .. Id 
    local Sound = Instance.new("Sound")
    Sound.SoundId = Id 
    Sound:Play();
    return Sound 
end

function Segment(x)
    if x == "Segment1" then
        Segment1 = not Segment1
        local s = PlaySound(176554627)
        s.Volume = 3
        repeat wait();
            game.TweenService:Create(workspace.CurrentCamera, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {FieldOfView = 50}):Play();
            wait(0.3)
            game.TweenService:Create(workspace.CurrentCamera, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut), {FieldOfView = 70}):Play();
        until Character.Humanoid.Health < 0 or Segment1 == false;
    end
end

function PlayAnimation(Id)
    local Animation = {}
    
    local AnimationO = Instance.new("Animation")
    AnimationO.AnimationId = Id 
    
    local Track = Character.Humanoid:LoadAnimation(AnimationO);
    Track:Play();
    
    function Animation:Stop()
        Track:Stop();
    end
    
    function Animation:Resume()
        Track:Play();
    end
    
    function Animation:AdjustSpeed(x)
        Track:AdjustSpeed(x);
    end 
    
    function Animation:GetLength()
        return Track.Length;
    end
    
    return Animation 
end

function Shake(Preset)
    camShake:Shake(CameraShaker.Presets[Preset]);
end 

-- // Things (Very Messy) // -- 

local char = game.Players.LocalPlayer.Character
spawn(function()
    repeat wait()
        for _,v in pairs(char:GetChildren()) do
            if v.Name == 'DrainStamina' or v.Name == 'DrainSprint' then
                v:Destroy()
            end
        end
    until false
end)

local mt = getrawmetatable(game)
local backup = mt.__namecall

if setreadonly then 
    setreadonly(mt, false) 
else 
    make_writeable(mt, true)
end

mt.__namecall = newcclosure(function(...)
    local method = getnamecallmethod()
    local args = {...}
    if tostring(args[1]) == 'SayMessageRequest' then
        return
    end
    return backup(...)
end)

local ya = getrawmetatable(game)
local mum = ya.__namecall
setreadonly(ya, false)
ya.__namecall =
    newcclosure(
    function(name, ...)
        local tabs = {...}
        if getnamecallmethod() == "InvokeServer" and tostring(name) == "Damage" then
            if tabs[4] ~= "ID=129152" then
                tabs[3]["CombatInv"] = true 
                tabs[3]["PerfectBlockAble"] = false
                if tabs[3]["Type"] == "Knockback" then 
                    tabs[3]["Velocity"] = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.LookVector * 175 + Vector3.new(0, 30, 0) 
                    tabs[3]["Damage"] = 40 
                    tabs[3]["HitEffect"] = "HeavyHitEffect"
                elseif tabs[3]["Type"] == "Normal" then
                    tabs[3]["Damage"] = 4
                    tabs[3]["HitEffect"] = "KnifeHitEffect"
                end
            end
        elseif getnamecallmethod() == "FireServer" and tostring(name) == "Events" then -- dash explosion (hacky method)
            if tabs[1][2] == "InvFrames" and tabs[1][3] == 0.2 then 
                task.spawn(function()
                    Shake("Explosion");
                end)
            end
        end
        return mum(name, unpack(tabs))
    end
)

setreadonly(ya, true)



local bypass = Instance.new("BoolValue")
bypass.Name = "Battling"
bypass.Parent = game.Players.LocalPlayer.Character

wait(1)

game.Players.LocalPlayer.Backpack.Main.RunSpeed.Value = 60

local bypass = Instance.new("BoolValue")
bypass.Name = "Battling"
bypass.Parent = game.Players.LocalPlayer.Character

game.Players.LocalPlayer.Character.Humanoid.JumpPower = 90
game.Players.LocalPlayer.PlayerGui.UI.Ui.Info.Attack.Text = "Attack : 560"
game.Players.LocalPlayer.PlayerGui.UI.Ui.Info.Defense.Text = "Defense : 157"

game.Players.LocalPlayer.PlayerGui.UI.Ui.Info.Attack.TextColor3 = Color3.new(0,0,0)
game.Players.LocalPlayer.PlayerGui.UI.Ui.Info.Defense.TextColor3 = Color3.new(0,0,0)

-- // Actual Shit 💀 // --
                
--[[ Damage Docs:
    Type: string?, All Types to my knowledge: Normal, Knockback, Light, KnockbackNoEffects (kicks)
    Damage: number?, 1-10 on Normal and Light, 1-40 on Knockback and probably KnockbackNoEffects
    HitEffect: string?, Possible Hit Effects: LightHitEffect, LightHitEffect2, LightHitEffect3, HeavyHitEffect, BurstEffect, BiggerBurstEffect, KnifeHitEffect, YellowHitEffect, CarrotHitEffect, BladeHitEffect, BoneHitEffect
    Effect: string?, Possible Effects: Fire, Curse (only work on Shinobi)
    Velocity: Vector3?, Max of 199
    Position: Vector3?, Max of 50 
    HitTime: number?, 0-2.5 (any negative works but it makes them flop around)
    HurtAnimation: Animation?, Location of an animation
    Sound: (Sound | {Sound})?, Location of an Sound
    DodgeAble: boolean?, Disables dodging (Can only be ran by the server)
    BlockAble: boolean?, Disables blocking
    CancelKnockback: boolean?, It has code on what its supposed to do but it doesn't work on the client so I guess its server only and you don't get kicked unlike DodgeAble
    CancelBlock: boolean?, It has code on what its supposed to do but it doesn't work on the client so I guess its server only and you don't get kicked unlike DodgeAble
    PerfectBlockable: boolean?, Will still hit them if they are perfect blocking
    HitWall: boolean?, if set to true the target won't hit the wall but will slide off of it and if the target is still on the wall by the time of the hit time ending they'll be walled
    Karma: number? Can only be ran by the server (It may look like it works but damage 0 on sans is really 1 so uh yeah.)
]]--

--[[ Function Docs:
    HighJump(void) -- > Plays the high jump effect;
    Chat(string x, Color3 color) -- > Chats (x);
    Damage(array arguments) -- > See damage docs for argument list;
    GetAllOfType(string class) -- > Returns an array of all objects of specified (class);
    SwitchMode(string mode) -- > Switches Current Mode to (mode);
    BindApi:BindTo(string key, function Function, boolean UserInputService) -- > Binds (Function) to string (key), if UserInputService is true then uses that service instead of mouse;
    LoadAs(string Char, array Phases) -- > Loads as character with (Phases);
    LoadAs -- > :andThen(function Function) --- > Executes Function when LoadAs finished Loading;
]]--

local SoundsFolder = game.ReplicatedStorage.Sounds;
local HitAnimationFolder = game.ReplicatedStorage.Animations.HurtAnimations;
local Tween = game.TweenService
local TridentMeshPart = false
local Heartbeat = game:GetService("RunService").Heartbeat
local Info = function(x)
    return TweenInfo.new(x, Enum.EasingStyle.Quad, Enum.EasingDirection.InOut);
end

function Switch()
    Modes["Trident"] = not Modes["Trident"];
    Modes["Combat"] = not Modes["Combat"];
end

HighJump()

local MoveExtra1 = MovesInterface["7"]:Clone() do
    MoveExtra1.Name = "8";
    MoveExtra1.TextLabel.Text = "8";
    MoveExtra1.Position = UDim2.new(-0.25,0,0,0);
    MoveExtra1.Parent = MovesInterface;
    MoveExtra1:WaitForChild("Unlocked").Value = true
    Heartbeat:Connect(function()
        MoveExtra1.Rotation = MovesInterface["7"].Rotation;
    end)
end;

local MoveExtra2 = MovesInterface["7"]:Clone() do
    MoveExtra2.Name = "9";
    MoveExtra2.TextLabel.Text = "9";
    MoveExtra2.Position = UDim2.new(-0.25,0,0.5,0);
    MoveExtra2.Parent = MovesInterface;
    MoveExtra2:WaitForChild("Unlocked").Value = true
    Heartbeat:Connect(function()
        MoveExtra2.Rotation = MovesInterface["7"].Rotation;
    end)
end;

function CustomUnlock(x)
    x.TextLabel.TextColor3 = Color3.new(1, 1, 1);
	x.ImageLabel.ImageColor3 = Color3.new(1, 0, 0);
end;

function CustomCooldown(x)
    createButtonEffect(x)
    x:WaitForChild("Activated").Changed:Connect(function()
        local Value = x:FindFirstChild("Activated").Value;
        if Value then
            local Label = x.TextLabel;
        	local Image = x.ImageLabel;
            Label.TextColor3 = Color3.new(1, 0, 0);
        	Image.ImageColor3 = Color3.new(1, 0, 0);
        	Image.Size = UDim2.new(1, 0, 0, 0);
        	Image.Position = UDim2.new(0, 0, 1, 0);
        	ClientModule.CreateTween(Image, { x.Time.Value, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut, 0, false, 0 }, {
        		Position = UDim2.new(0, 0, 0, 0), 
        		Size = UDim2.new(1, 0, 1, 0)
        	}, true);
        	wait(x.Time.Value);
        	Image.ImageColor3 = Color3.new(1, 0, 0);
        	Label.TextColor3 = Color3.new(1, 1, 1);
        end
    end)
end;

MovesInterface.Parent:FindFirstChildOfClass("LocalScript").Disabled = true

for i = 1,9 do 
    CustomCooldown(MovesInterface[tostring(i)]);
    CustomUnlock(MovesInterface[tostring(i)]);
end

task.spawn(function()
    repeat wait() until Character.Humanoid.Health == 200; wait(1)
    
    Character.Spear:Destroy();
    
    local SpearX;
    
    function AddSpear()
        
        local cSignal
        local Spears = {}
        
        Character.Attacks:ClearAllChildren();
        
        if TridentMeshPart then
            local TridentMesh = game:GetObjects("rbxassetid://4850350519")[1]
            TridentMesh.CanCollide = false 
            TridentMesh.Anchored = true 
            TridentMesh.Color = Color3.new(1,0,0)
            TridentMesh.Material = Enum.Material.Neon 
            TridentMesh.Parent = Character.Attacks
            TridentMesh.Size = TridentMesh.Size/4
        end
        
        wait(0.1)
        
        cSignal = Character.Attacks.ChildAdded:Connect(function(Child)
            if string.find(Child.Name, "Spear") then 
                if #Spears >= 1 then
                    cSignal:Disconnect();
                end;
                table.insert(Spears, Child);
            end
        end)
        
        local pass = getrenv()._G.Pass
        
        game:GetService("ReplicatedStorage").Remotes.UndyneMoves:InvokeServer({ pass, "Spear", "MultipleSpears", 1 });
        
        local Spear = Spears[1];
        SpearX = Spear
        
        local x = 90 -- idk lmao
        local y = -13 -- outwards
        local z = -86 -- up and down
        
        local Angle = CFrame.Angles(math.rad(x), math.rad(y), math.rad(z));
        
        Spear:WaitForChild("NotTouched"):Destroy();
        Spear:WaitForChild("LocalScript"):Destroy();
        
        game:GetService("RunService").Heartbeat:Connect(function()
            Angle = CFrame.Angles(math.rad(x), math.rad(y), math.rad(z))
            Spear.CFrame = game.Players.LocalPlayer.Character["Right Arm"].CFrame*Angle*CFrame.new(0,-0,1)
            if TridentMeshPart then
                TridentMesh.CFrame = game.Players.LocalPlayer.Character["Right Arm"].CFrame*Angle*CFrame.new(0,-0,1)
            end
        end)
        
        for _,v in pairs(Spear:GetChildren()) do 
            if v:IsA("ParticleEmitter") then 
                v.Color = ColorSequence.new{
                    ColorSequenceKeypoint.new(0,Color3.new(1,0,0));
                    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 127, 0));
                }
                v.Transparency = NumberSequence.new{
                    NumberSequenceKeypoint.new(0,0);
                    NumberSequenceKeypoint.new(1,1);
                }
            elseif v:IsA("Trail") then 
                v.Color = ColorSequence.new{
                    ColorSequenceKeypoint.new(0,Color3.new(1,0,0));
                    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 127, 0));
                }
            elseif v:IsA("Beam") then 
                v.Color = ColorSequence.new{
                    ColorSequenceKeypoint.new(0,Color3.new(1,0,0));
                    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 127, 0));
                }
            end
        end
        
        spearColor(Spear);
        
        if TridentMeshPart then
            Spear.Transparency = 1
        end
        
    end
    
    AddSpear()
    
    task.spawn(function()
    
        repeat wait(); until Character.Attacks:FindFirstChild("TSpear");
        
        function isSpear()
            local aSignal
            aSignal = game:GetService("RunService").Heartbeat:Connect(function()
                if not Character.Attacks:FindFirstChild("TSpear") then 
                    print("No spear :sob:") aSignal:Disconnect();
                    AddSpear(); 
                end
            end)
        end 
        
        isSpear()
        
    end) 
    
    Character.UndyingEye:WaitForChild("Script"):Destroy();
    
    delay(2, function()
    
        for _,v in pairs(Character.UndyingEye:GetDescendants()) do 
            if v:IsA("ParticleEmitter") then 
                v.Color = ColorSequence.new{
                    ColorSequenceKeypoint.new(0,Color3.new(1,0,0));
                    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 127, 0));
                }
                v.Transparency = NumberSequence.new{
                    NumberSequenceKeypoint.new(0,0);
                    NumberSequenceKeypoint.new(1,1);
                }
                particleAccel(v);
            end 
        end
        
    end)
    
    -- << Animation System >> --
    
    local Animations = {
        HardLand = "rbxassetid://4575983939";
    }
    
    local HardLandAnimation = Instance.new("Animation") do HardLandAnimation.AnimationId = Animations.HardLand end;
    local HardLandTrack = Character.Humanoid:LoadAnimation(HardLandAnimation); HardLandTrack.Priority = Enum.AnimationPriority.Action
    
    local IsWalking,IsIdling = false,false
    
    game:GetService("RunService").Heartbeat:Connect(function()
        
        if Character.Humanoid.MoveDirection.Magnitude > 0 then 
            
            if not IsWalking and not IsRunning then
                
                IsWalking = true IsIdling = false
                
                z = -86
                y = -13
                
            end
            
        else
            
            if not IsIdling and not IsRunning then
                
                IsWalking = false IsIdling = true
                
                z = -93
                y = -16
                
            end
            
        end
        
    end)
    
    game:GetService("RunService").Heartbeat:Connect(function()
        
        local Tracks = Character.Humanoid:GetPlayingAnimationTracks();
        
        for _,v in pairs(Tracks) do
            
            if string.find(v.Name, "Light") then 
                if string.find(v.Name, "5") then v:AdjustSpeed(0.7) 
                Damage({
                    ["Type"] = "Knockback", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback1, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*40+Vector3.new(0,50,0), 
                    ["HitEffect"] = "BiggerBurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 15,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                else v:AdjustSpeed(1.4); end
            end
            
        end
        
    end)
    
    local FromJumping = false
    
    Character.Humanoid.StateChanged:Connect(function(Old,New)
        
        local OldState = Character.Humanoid.MoveDirection.Magnitude
        
        if New == Enum.HumanoidStateType.Freefall and Old == Enum.HumanoidStateType.Jumping then 
            
            FromJumping = true
            
        elseif Old == Enum.HumanoidStateType.Freefall and New == Enum.HumanoidStateType.Landed then 
            
            if FromJumping then
                
                FromJumping = false
                HardLandTrack:Play();
                Shake("Explosion");
                HighJump()
            
            end
        
        end
    
    end)
    
    -----------------------------------------------
    -- << MOVE SHIT >> -- 
    
    local BladeCombat = game.Players.LocalPlayer.Backpack:WaitForChild("Main").UndyneMoves.ModuleScript.Animations.BladesCombat
    
    BindApi:BindTo("Z", function() -- spear disappears sometimes idk why (added move to reload it)
        AddSpear();
    end,3.5)
    
    BindApi:BindTo("Q", function()
        Character.HumanoidRootPart.Anchored = true;
        Chat(" I never thought I would have to use this...", Color3.new(1,0,0));
        local Anim = PlayAnimation("rbxassetid://7515642035");
        wait(3)
        Anim:Stop();
        RageMode = true 
        local pass = getrenv()._G.Pass
        game:GetService("ReplicatedStorage").Remotes.UndyneMoves:InvokeServer({ pass, "Effect", "HighJump", Character.HumanoidRootPart.Position*Vector3.new(0,-2,0)});
        Shake("Explosion")
        Character.HumanoidRootPart.Anchored = false;
    end,20)
    
    BindApi:BindTo("One", function()
        if GetLocked() then
            SetCooldown(MovesInterface["1"], 7):Activate() ;
            local AnimationTrack = PlayAnimation("rbxassetid://4613411367");
            wait(0.32)
            --[[
            function Ground()
                local lock = GetLocked();
                for i,v in pairs(getconnections(game:GetService("ReplicatedStorage").Remotes.Effects.OnClientEvent)) do
                    v:Fire({"Model", "BettyGroundMove", lock["HumanoidRootPart"].CFrame*CFrame.new(0,-20,0)});
                end
                local GroundMove;
                for _i,v in pairs(Character.Effects:GetChildren()) do 
                    if v:IsA("Model") and v.Name == "BettyGroundMove" then 
                        GroundMove = v
                    end
                end
                for _,x in pairs(GroundMove:GetDescendants()) do 
                    if x:IsA("Part") or x:IsA("MeshPart") then 
                        x.Color = Color3.fromRGB(255, 100, 0);
                        local yI = math.random(0,1);
                        local Particle = SpearX:FindFirstChildOfClass("ParticleEmitter"):Clone();
                        Particle.Parent = x
                        Particle.Size = NumberSequence.new{
                            NumberSequenceKeypoint.new(0,0.25);
                            NumberSequenceKeypoint.new(1,0.45);
                        }
                        Tween:Create(x, Info(0.5), {Position = x.Position*Vector3.new(0,10+yI,0)}):Play();
                    end
                end
            end
            Ground();
            ]]--
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback1, 
                ["Velocity"] = Vector3.new(0,20,0), 
                ["HitEffect"] = "BiggerBurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                ["Damage"] = 15,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false
            })
            delay(1.5, function()
                for i = 1,5 do
                    local Anim = PlayAnimation(BladeCombat.Light1.AnimationId);
                    Anim:AdjustSpeed(1.4);
                     Damage({
                        ["Type"] = "Normal", 
                        ["HitTime"] = 1, 
                        ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                        ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                        ["HitEffect"] = "KnifeHitEffect", 
                        ["CombatInv"] = true, 
                        ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                        ["Damage"] = 2,
                        ["BlockAble"] = false,
                        ["PerfectBlockable"] = false
                    })
                    wait(Anim:GetLength()/6);
                    local Anim2 = PlayAnimation(BladeCombat.Light2.AnimationId);
                    Anim2:AdjustSpeed(1.4);
                    Damage({
                        ["Type"] = "Normal", 
                        ["HitTime"] = 1, 
                        ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt2, 
                        ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                        ["HitEffect"] = "KnifeHitEffect", 
                        ["CombatInv"] = true, 
                        ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                        ["Damage"] = 2,
                        ["BlockAble"] = false,
                        ["PerfectBlockable"] = false
                    })
                    wait(Anim2:GetLength()/6);
                end
                local Animation3 = PlayAnimation("rbxassetid://4684547284");
                wait(0.1);
                Damage({
                    ["Type"] = "Knockback", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback1, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*175, 
                    ["HitEffect"] = "BiggerBurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 15,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
            end)
        end
    end,7)
    
    BindApi:BindTo("Two", function()
        SetCooldown(MovesInterface["2"], 10):Activate() ;
        local start = PlayAnimation("rbxassetid://4531324200")
        start:AdjustSpeed(3)
        delay(.5,function()
            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = game.Players.LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame * CFrame.new(0,0,3)
            task.wait(.2)
            local start2 = PlayAnimation("rbxassetid://4531368612");
            start2:AdjustSpeed(2)
            Shake("Explosion");
            Damage({
                ["Type"] = "Normal", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.SpearHurt, 
                ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*-1, 
                ["HitEffect"] = "BurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Stab, 
                ["Damage"] = 5,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false
            })
            task.wait(.2);
            local middle = PlayAnimation("rbxassetid://4521624762")
            middle:AdjustSpeed(2)
            delay(.2,function()
                Shake("Bump")
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.SpearHurt, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                    ["HitEffect"] = "LightHitEffect"..math.random(2,3), 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Punch, 
                    ["Damage"] = 5,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                local mid2 = PlayAnimation("rbxassetid://4521628546")
                mid2:AdjustSpeed(2)
                delay(.3,function()
                    Shake("Explosion")
                    Damage({
                        ["Type"] = "Knockback", 
                        ["HitTime"] = 1, 
                        ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback1, 
                        ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.UpVector*120, 
                        ["HitEffect"] = "HeavyHitEffect", 
                        ["CombatInv"] = true, 
                        ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                        ["Damage"] = 5,
                        ["BlockAble"] = false,
                        ["PerfectBlockable"] = false
                    })
                    local end1 = PlayAnimation("rbxassetid://4531711725")
                    end1:AdjustSpeed(2)
                    delay(.2,function()
                        local end2 = PlayAnimation("rbxassetid://4521638309")
                        task.wait(.2);
                        game:GetService("ReplicatedStorage").Remotes.UndyneMoves:InvokeServer({ getrenv()._G.Pass, "Effect", "HighJump", game.Players.LocalPlayer.Character.HumanoidRootPart.Position*Vector3.new(0,-2,0)});
                        local v = require(game:GetService("ReplicatedStorage").ClientModules.MainModule);
                        v.CreateBodyMover({"BodyVelocity", game.Players.LocalPlayer.Character.HumanoidRootPart, Vector3.new(1000000, 100000, 1000000), game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector * 0 + Vector3.new(0,150,0), 1})
                        delay(1,function()
                            game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = true
                            local end3 = PlayAnimation("rbxassetid://4521644939")
                            delay(.2,function()
                                Shake("BigExplosion")
                                Damage({
                                    ["Type"] = "Knockback", 
                                    ["HitTime"] = 1, 
                                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback1, 
                                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.UpVector*-150 + BodyParts.HumanoidRootPart.CFrame.LookVector * 50, 
                                    ["HitEffect"] = "BiggerBurstEffect", 
                                    ["CombatInv"] = true, 
                                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                                    ["Damage"] = 15,
                                    ["BlockAble"] = false,
                                    ["PerfectBlockable"] = false
                                })
                                task.wait(.2);
                                game.Players.LocalPlayer.Character.HumanoidRootPart.Anchored = false
                                task.wait(.2);
                                v.CreateBodyMover({"BodyVelocity", game.Players.LocalPlayer.Character.HumanoidRootPart, Vector3.new(1000000, 100000, 1000000), game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame.lookVector * 0 + Vector3.new(0,-200,0), .5})
                            end)
                        end)
                    end)
                end)
            end)
        end)
    end, 5)
    BindApi:BindTo("Three", function()
        if GetLocked() then
            SetCooldown(MovesInterface["3"], 6):Activate() ;
            local Animation = PlayAnimation("rbxassetid://8075821161");
            Animation:AdjustSpeed(2);
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                ["Velocity"] = Character.HumanoidRootPart.CFrame.LookVector*1, 
                ["HitEffect"] = "BiggerBurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                ["Damage"] = 15,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false,
                ["Character"] = v
            })
            wait(0.3)
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                ["Velocity"] = Character.HumanoidRootPart.CFrame.LookVector*175+Vector3.new(0,20,0), 
                ["HitEffect"] = "BiggerBurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                ["Damage"] = 15,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false,
                ["Character"] = v
            })
        end
    end,6)
    BindApi:BindTo("Four", function()
        if GetLocked() then
            SetCooldown(MovesInterface["4"], 5):Activate() ;
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                ["Velocity"] = Vector3.new(0,50,0), 
                ["HitEffect"] = "BiggerBurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                ["Damage"] = 15,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false,
            })
            PlayAnimation("rbxassetid://4521638309"):AdjustSpeed(2);
            wait(.2)
            local v = require(game:GetService("ReplicatedStorage").ClientModules.MainModule);
            v.CreateBodyMover({"BodyVelocity", Character.HumanoidRootPart, Vector3.new(1000000, 100000, 1000000), Character.HumanoidRootPart.CFrame.lookVector * 0 + Vector3.new(0,50,0), 1})
            wait(1);
            PlayAnimation("rbxassetid://4613411367"):AdjustSpeed(2);
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                ["Velocity"] = Vector3.new(0,-60,0), 
                ["HitEffect"] = "BiggerBurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                ["Damage"] = 15,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false,
            })
        end
    end,5)
    BindApi:BindTo("Five", function()
        
        if GetLocked() then
        
            SetCooldown(MovesInterface["5"], 7.5):Activate() ;
            
            local UpTween = Tween:Create(Character.HumanoidRootPart, Info(1), {CFrame = Character.HumanoidRootPart.CFrame*CFrame.new(0,50,0)})
            
            PlayAnimation("rbxassetid://4521638309"):AdjustSpeed(2);
            
            local pass = getrenv()._G.Pass
            
            wait(0.2)
            
            game:GetService("ReplicatedStorage").Remotes.UndyneMoves:InvokeServer({ pass, "Effect", "HighJump", Character.HumanoidRootPart.Position*Vector3.new(0,-2,0)});
            Shake("Explosion")
            
            UpTween:Play();
            UpTween.Completed:Wait();
            
            local DownTween = Tween:Create(Character.HumanoidRootPart, Info(1), {CFrame = GetLocked().HumanoidRootPart.Position*Vector3.new(0,0,2)})
            
            DownTween:Play();
            DownTween.Completed:Wait();
            
            game:GetService("ReplicatedStorage").Remotes.UndyneMoves:InvokeServer({ pass, "Spear", "SpearHitGround", Character.HumanoidRootPart.CFrame})
        
        end
        
    end,7.5)
    
    local Barraging = false
    
    BindApi:BindTo("Six", function()
        if GetLocked() then
            SetCooldown(MovesInterface["6"], 7):Activate() ;
            Barrage = true
            repeat wait();
                local Anim = PlayAnimation(BladeCombat.Light1.AnimationId);
                Anim:AdjustSpeed(1.4);
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                    ["HitEffect"] = "KnifeHitEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 2,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                wait(Anim:GetLength()/10);
                local Anim2 = PlayAnimation(BladeCombat.Light2.AnimationId);
                Anim2:AdjustSpeed(1.4);
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                    ["HitEffect"] = "KnifeHitEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 2,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                wait(Anim2:GetLength()/10);
                local Anim = PlayAnimation(BladeCombat.Light3.AnimationId);
                Anim:AdjustSpeed(1.4);
                 Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt1, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                    ["HitEffect"] = "KnifeHitEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 2,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                wait(Anim:GetLength()/10);
                local Anim2 = PlayAnimation(BladeCombat.Light4.AnimationId);
                Anim2:AdjustSpeed(1.4);
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                    ["HitEffect"] = "KnifeHitEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 2,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                wait(Anim2:GetLength()/10);
                local Anim2 = PlayAnimation(BladeCombat.Light5.AnimationId);
                Anim2:AdjustSpeed(1.4);
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Hurt2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*1, 
                    ["HitEffect"] = "KnifeHitEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                    ["Damage"] = 2,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                wait(Anim2:GetLength()/10);
            until Barraging == false
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback1, 
                ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*40+Vector3.new(0,50,0), 
                ["HitEffect"] = "BiggerBurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.KnifeHit, 
                ["Damage"] = 15,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false
            })
        end
    end,7)
    local UIS = game:GetService("UserInputService")
    UIS.InputEnded:Connect(function(I,G) 
        if not G and I.KeyCode == Enum.KeyCode["Six"] then
           Barraging = false;
        end
    end)
    BindApi:BindTo("Seven", function()
        running=true
        local start = PlayAnimation("rbxassetid://7003950381")
        start:AdjustSpeed(1.5)
        delay(.5,function()
            task.spawn(function()
                local ran
                ran = game:WaitForChild("Run Service").Heartbeat:Connect(function()
                    if running then task.wait(.2) AfterImage(Color3.new(1,1,1),"ForceField",.5) elseif not running then ran:Disconnect() end
                end)
            end)
            start:Stop()
            Shake("Explosion");
            Damage({
                ["Type"] = "Knockback", 
                ["HitTime"] = 1, 
                ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback3, 
                ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.UpVector*-10, 
                ["HitEffect"] = "BurstEffect", 
                ["CombatInv"] = true, 
                ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                ["Damage"] = 0,
                ["BlockAble"] = false,
                ["PerfectBlockable"] = false
            })
            local mid = PlayAnimation("rbxassetid://5858687214")
            delay(.2,function()
                Shake("Explosion");
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback3, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.UpVector*50,
                    ["Position"] = game:GetService("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.Torso.Position + BodyParts.HumanoidRootPart.CFrame.UpVector*20 + BodyParts.HumanoidRootPart.CFrame.LookVector*20,
                    ["HitEffect"] = "BurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                    ["Damage"] = 0,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                task.wait(.6);
                tar = game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame + game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame.LookVector * .5
                game.Players.LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Flying)
                v2 = Instance.new('BodyPosition',game.Players.LocalPlayer.Character.HumanoidRootPart) 
                fol = Instance.new('Folder',v2)
                v2.Name = 'Client' 
                v2.MaxForce = Vector3.new(1,1,1)*100000 
                v2.D = 2500 
                v2.P = 100000
                v2.Position = (tar).p
                delay(2,function()
                    v2:Destroy()
                end)
                task.wait(.4)
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*2,
                    ["HitEffect"] = "BurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                    ["Damage"] = 0,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                task.wait(.2)
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*2,
                    ["HitEffect"] = "BurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Punch, 
                    ["Damage"] = 0,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                task.wait(.3)
                local mid2 = PlayAnimation("rbxassetid://4575857193")
                task.wait(.3)
                mid2:AdjustSpeed(.3)
                Shake("Explosion");
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 2.5, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*2,
                    ["HitEffect"] = "BurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                    ["Damage"] = 0,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                task.wait(.3)
                mid2:AdjustSpeed(1)
                task.wait(.2)
                tar = game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame + game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame.LookVector * 100 + game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame.UpVector * 100
                game.Players.LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Flying)
                v2 = Instance.new('BodyPosition',game.Players.LocalPlayer.Character.HumanoidRootPart) 
                fol = Instance.new('Folder',v2)
                v2.Name = 'Client' 
                v2.MaxForce = Vector3.new(1,1,1)*100000 
                v2.D = 2500 
                v2.P = 100000
                v2.Position = (tar).p
                delay(.3,function()
                    v2:Destroy()
                end)
                local mid3 = PlayAnimation("rbxassetid://4524518208")
                mid3:AdjustSpeed(2)
                task.wait(.5)
                local end1 = PlayAnimation("rbxassetid://4524522575")
                end1:AdjustSpeed(1.5)
                tar = game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame + game:service("Players").LocalPlayer.Backpack.Main.LockOnScript.LockOn.Value.HumanoidRootPart.CFrame.LookVector * .5
                game.Players.LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Flying)
                v2 = Instance.new('BodyPosition',game.Players.LocalPlayer.Character.HumanoidRootPart) 
                fol = Instance.new('Folder',v2)
                v2.Name = 'Client' 
                v2.MaxForce = Vector3.new(1,1,1)*100000 
                v2.D = 2500 
                v2.P = 100000
                v2.Position = (tar).p
                delay(1,function()
                    v2:Destroy()
                end)
                task.wait(.7)
                Shake("Explosion");
                Damage({
                    ["Type"] = "Normal", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2, 
                    ["HitEffect"] = "BurstEffect", 
                    ["CombatInv"] = true, 
                    ["Damage"] = 0,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                task.wait()
                Damage({
                    ["Type"] = "Knockback", 
                    ["HitTime"] = 1, 
                    ["HurtAnimation"] = game:GetService("ReplicatedStorage").Animations.HurtAnimations.Knockback2, 
                    ["Velocity"] = BodyParts.HumanoidRootPart.CFrame.LookVector*50+BodyParts.HumanoidRootPart.CFrame.UpVector*-50,
                    ["HitEffect"] = "BurstEffect", 
                    ["CombatInv"] = true, 
                    ["Sound"] = game:GetService("ReplicatedStorage").Sounds.Kick, 
                    ["Damage"] = 40,
                    ["BlockAble"] = false,
                    ["PerfectBlockable"] = false
                })
                running=false
            end)
        end)
    end,10)
end)

workspace.ServerEffects.ServerCooldown:Destroy();
